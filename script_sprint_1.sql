------------------------------------------------------------
-- 1) ENDEREÇO
------------------------------------------------------------
CREATE TABLE STATES (
  STATE_ID    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  STATE_NAME  VARCHAR2(255) NOT NULL
);

CREATE TABLE CITY (
  CITY_ID    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NAME_CITY  VARCHAR2(255) NOT NULL,
  STATE_ID   NUMBER NOT NULL,
  CONSTRAINT FK_CITY_STATES
    FOREIGN KEY (STATE_ID) REFERENCES STATES(STATE_ID)
);

CREATE TABLE NEIGHBOURHOOD (
  NEIGH_ID    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NEIGH_NAME  VARCHAR2(255) NOT NULL,
  CITY_ID     NUMBER NOT NULL,
  CONSTRAINT FK_NEIGH_CITY
    FOREIGN KEY (CITY_ID) REFERENCES CITY(CITY_ID)
);


CREATE TABLE ADDRESS_MANUFACTURER (
  ADDRESS_ID_MANUFACTURER NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  COMPLEMENT              VARCHAR2(255) NOT NULL,
  NUMBER_MANU             NUMBER(7)     NOT NULL,
  ADDRESS_DESCRIPTION     VARCHAR2(255) NOT NULL,
  CEP                     NUMBER(8)     NOT NULL,
  NEIGH_ID                NUMBER        NOT NULL,
  CONSTRAINT FK_ADDRMANU_NEIGH
    FOREIGN KEY (NEIGH_ID) REFERENCES NEIGHBOURHOOD(NEIGH_ID)
);

CREATE TABLE ADDRESS_STOCK (
  ADDRESS_ID_STOCK    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  COMPLEMENT          VARCHAR2(255) NOT NULL,
  NUMBER_STOCK        NUMBER(7)     NOT NULL,
  ADDRESS_DESCRIPTION VARCHAR2(255) NOT NULL,
  CEP                 NUMBER        NOT NULL,
  NEIGH_ID            NUMBER        NOT NULL,
  CONSTRAINT FK_ADDRSTOCK_NEIGH
    FOREIGN KEY (NEIGH_ID) REFERENCES NEIGHBOURHOOD(NEIGH_ID)
);

------------------------------------------------------------
-- 2) LOCAL DE ESTOQUE 
------------------------------------------------------------
CREATE TABLE LOCATION_STOCK (
  LOCATION_ID_STOCK    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NAME_LOCATION        VARCHAR2(30)  NOT NULL,
  LOCATION_DESCRIPTION VARCHAR2(100) NOT NULL,
  ADDRESS_ID_STOCK     NUMBER        NOT NULL,
  CONSTRAINT FK_LOCATION_ADDRSTOCK
    FOREIGN KEY (ADDRESS_ID_STOCK) REFERENCES ADDRESS_STOCK(ADDRESS_ID_STOCK),
  CONSTRAINT UQ_LOCATION_ADDRSTOCK UNIQUE (ADDRESS_ID_STOCK)
);

------------------------------------------------------------
-- 3) USUÁRIOS
------------------------------------------------------------
CREATE TABLE CONTACT_USER (
  CONTACT_USER_ID   NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  EMAIL_USER        VARCHAR2(255) NOT NULL,
  PHONE_NUMBER_USER NUMBER        NOT NULL,
  CONSTRAINT UQ_CONTACT_USER_EMAIL UNIQUE (EMAIL_USER),
  CONSTRAINT UQ_CONTACT_USER_PHONE UNIQUE (PHONE_NUMBER_USER)
);

CREATE TABLE POSITION_USER (
  POS_USER_ID    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  USER_POSITION  VARCHAR2(100) NOT NULL
);

CREATE TABLE PROFILE_USER (
  PROF_USER_ID  NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  USER_PROFILE  VARCHAR2(50) NOT NULL
);

CREATE TABLE USERS_SYS (
  USER_ID          NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NAME_USER        VARCHAR2(150) NOT NULL,
  LOGIN            VARCHAR2(50)  NOT NULL,
  PASSWORD_USER    VARCHAR2(255) NOT NULL,
  POS_USER_ID      NUMBER NOT NULL,
  PROF_USER_ID     NUMBER NOT NULL,
  CONTACT_USER_ID  NUMBER NOT NULL,
  CONSTRAINT UQ_USERS_SYS_LOGIN UNIQUE (LOGIN),
  CONSTRAINT FK_USERS_POS     FOREIGN KEY (POS_USER_ID)     REFERENCES POSITION_USER(POS_USER_ID),
  CONSTRAINT FK_USERS_PROF    FOREIGN KEY (PROF_USER_ID)    REFERENCES PROFILE_USER(PROF_USER_ID),
  CONSTRAINT FK_USERS_CONTACT FOREIGN KEY (CONTACT_USER_ID) REFERENCES CONTACT_USER(CONTACT_USER_ID),
  CONSTRAINT UQ_USERS_CONTACT UNIQUE (CONTACT_USER_ID)
);

------------------------------------------------------------
-- 4) FABRICANTES
------------------------------------------------------------
CREATE TABLE CONTACT_MANUFACTURER (
  CONTACT_MANU_ID    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  EMAIL_MANU         VARCHAR2(255) NOT NULL,
  PHONE_NUMBER_MANU  NUMBER        NOT NULL,
  CONSTRAINT UQ_CONTACT_MANU_EMAIL UNIQUE (EMAIL_MANU),
  CONSTRAINT UQ_CONTACT_MANU_PHONE UNIQUE (PHONE_NUMBER_MANU)
);

CREATE TABLE MANUFACTURER (
  MANUFAC_ID              NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NAME_MANU               VARCHAR2(255) NOT NULL,
  CNPJ                    NUMBER(14)    NOT NULL,
  ADDRESS_ID_MANUFACTURER NUMBER        NOT NULL,
  CONTACT_MANU_ID         NUMBER        NOT NULL,
  CONSTRAINT UQ_MANUFACTURER_CNPJ UNIQUE (CNPJ),
  CONSTRAINT FK_MANU_ADDRESSMANU
    FOREIGN KEY (ADDRESS_ID_MANUFACTURER) REFERENCES ADDRESS_MANUFACTURER(ADDRESS_ID_MANUFACTURER),
  CONSTRAINT FK_MANU_CONTACT
    FOREIGN KEY (CONTACT_MANU_ID) REFERENCES CONTACT_MANUFACTURER(CONTACT_MANU_ID),
  CONSTRAINT UQ_MANUFACTURER_ADDRESS UNIQUE (ADDRESS_ID_MANUFACTURER),
  CONSTRAINT UQ_MANUFACTURER_CONTACT UNIQUE (CONTACT_MANU_ID)
);

------------------------------------------------------------
-- 5) CATÁLOGOS
------------------------------------------------------------
CREATE TABLE ACTIVE_INGREDIENT (
  ACT_INGRE_ID    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  ACT_INGREDIENT  VARCHAR2(200) NOT NULL
);

CREATE TABLE PHARMACEUTICAL_FORM (
  PHARM_FORM_ID  NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  PHARMA_FORM    VARCHAR2(100) NOT NULL
);

CREATE TABLE UNIT_MEASURE (
  UNIT_MEA_ID             NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  UNIT_MEASURE_MEDICINE   VARCHAR2(20) NOT NULL
);

CREATE TABLE CATEGORY_MEDICINE (
  CATEGORY_MED_ID  NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  CATEGORY         VARCHAR2(255) NOT NULL
);

CREATE TABLE MEDICINES (
  MEDICINE_ID     NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NAME_MEDICATION VARCHAR2(255) NOT NULL,
  STATUS_MED      VARCHAR2(20)  NOT NULL,
  CATEGORY_MED_ID NUMBER NOT NULL,
  UNIT_MEA_ID     NUMBER NOT NULL,
  PHARM_FORM_ID   NUMBER NOT NULL,
  ACT_INGRE_ID    NUMBER NOT NULL,
  CONSTRAINT FK_MED_CATEGORY  FOREIGN KEY (CATEGORY_MED_ID) REFERENCES CATEGORY_MEDICINE(CATEGORY_MED_ID),
  CONSTRAINT FK_MED_UNIT      FOREIGN KEY (UNIT_MEA_ID)     REFERENCES UNIT_MEASURE(UNIT_MEA_ID),
  CONSTRAINT FK_MED_PHARM     FOREIGN KEY (PHARM_FORM_ID)   REFERENCES PHARMACEUTICAL_FORM(PHARM_FORM_ID),
  CONSTRAINT FK_MED_ACTINGRE  FOREIGN KEY (ACT_INGRE_ID)    REFERENCES ACTIVE_INGREDIENT(ACT_INGRE_ID)
);

------------------------------------------------------------
-- 6) LOTES / ESTOQUE / MOVIMENTAÇÃO
------------------------------------------------------------
-- BATCH_MEDICINE 1:1 com MANUFACTURER
CREATE TABLE BATCH_MEDICINE (
  BATCH_ID_MEDICINE  NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  BATCH_NUMBER       VARCHAR2(255) NOT NULL,
  CURRENT_QUANTITY   NUMBER        NOT NULL,
  MANUFACTURING_DATE DATE          NOT NULL,
  EXPIRATION_DATE    DATE          NOT NULL,
  MANUFAC_ID         NUMBER        NOT NULL,
  CONSTRAINT FK_BATCH_MANUFACTURER
    FOREIGN KEY (MANUFAC_ID) REFERENCES MANUFACTURER(MANUFAC_ID),
  CONSTRAINT UQ_BATCH_MANUFAC UNIQUE (MANUFAC_ID)
);

CREATE TABLE MOVEMENT_TYPE (
  MOVEMENT_TYPE_ID  NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  TYPE_NAME         VARCHAR2(30) NOT NULL
);

CREATE TABLE STOCK (
  STOCK_ID           NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  QUANTITY           NUMBER(6) NOT NULL,
  BATCH_ID_MEDICINE  NUMBER    NOT NULL,
  MEDICINE_ID        NUMBER    NOT NULL,
  LOCATION_ID_STOCK  NUMBER    NOT NULL,
  CONSTRAINT FK_STOCK_BATCH    FOREIGN KEY (BATCH_ID_MEDICINE) REFERENCES BATCH_MEDICINE(BATCH_ID_MEDICINE),
  CONSTRAINT FK_STOCK_MED      FOREIGN KEY (MEDICINE_ID)       REFERENCES MEDICINES(MEDICINE_ID),
  CONSTRAINT FK_STOCK_LOCATION FOREIGN KEY (LOCATION_ID_STOCK)  REFERENCES LOCATION_STOCK(LOCATION_ID_STOCK)
);

------------------------------------------------------------
-- 7) DISPENSAÇÃO
------------------------------------------------------------
CREATE TABLE MEDICINE_DISPENSE (
  DISPENSATION_ID     NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  DATE_DISPENSATION   DATE          NOT NULL,
  QUANTITY_DISPENSED  NUMBER(6)     NOT NULL,
  DESTINATION         VARCHAR2(255) NOT NULL,
  OBSERVATION         VARCHAR2(255),
  USER_ID             NUMBER        NOT NULL,
  MOVEMENT_TYPE_ID    NUMBER        NOT NULL,
  STOCK_ID            NUMBER        NOT NULL,
  CONSTRAINT FK_DISP_USER       FOREIGN KEY (USER_ID)          REFERENCES USERS_SYS(USER_ID),
  CONSTRAINT FK_DISP_MOVTYPE    FOREIGN KEY (MOVEMENT_TYPE_ID) REFERENCES MOVEMENT_TYPE(MOVEMENT_TYPE_ID),
  CONSTRAINT FK_DISP_STOCK      FOREIGN KEY (STOCK_ID)         REFERENCES STOCK(STOCK_ID),
  CONSTRAINT UQ_DISP_MOVTYPE UNIQUE (MOVEMENT_TYPE_ID)
);

---------------------------------------
-- INSERÇÃO DE DADOS
---------------------------------------

---------------------------------------
-- 1) TABELA STATES
---------------------------------------
INSERT INTO STATES (STATE_NAME) VALUES ('São Paulo');
INSERT INTO STATES (STATE_NAME) VALUES ('Rio de Janeiro');
INSERT INTO STATES (STATE_NAME) VALUES ('Minas Gerais');
INSERT INTO STATES (STATE_NAME) VALUES ('Paraná');
INSERT INTO STATES (STATE_NAME) VALUES ('Bahia');
INSERT INTO STATES (STATE_NAME) VALUES ('Pernambuco');
INSERT INTO STATES (STATE_NAME) VALUES ('Ceará');
INSERT INTO STATES (STATE_NAME) VALUES ('Rio Grande do Sul');
INSERT INTO STATES (STATE_NAME) VALUES ('Goiás');
INSERT INTO STATES (STATE_NAME) VALUES ('Mato Grosso');
INSERT INTO STATES (STATE_NAME) VALUES ('Amazonas');
INSERT INTO STATES (STATE_NAME) VALUES ('Distrito Federal');
INSERT INTO STATES (STATE_NAME) VALUES ('Espírito Santo');
INSERT INTO STATES (STATE_NAME) VALUES ('Santa Catarina');
INSERT INTO STATES (STATE_NAME) VALUES ('Pará');


---------------------------------------
-- 2) CITY
---------------------------------------
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Campinas', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Sorocaba', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Santos', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Guarulhos', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('São José dos Campos', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Jundiaí', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Limeira', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Piracicaba', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Taubaté', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Caraguatatuba', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Americana', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Barueri', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Osasco', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('Ribeirão Preto', 1);
INSERT INTO CITY (NAME_CITY, STATE_ID) VALUES ('São Bernardo do Campo', 1);

---------------------------------------
-- 3) TABELA NEIGHBOURHOOD
---------------------------------------
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Centro', 1);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Vila Nova', 2);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Bela Vista', 3);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Jardim Paulista', 4);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Boa Vista', 5);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Morumbi', 6);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Tatuapé', 7);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Vila Mariana', 8);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Santana', 9);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Mooca', 10);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Ipiranga', 11);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Penha', 12);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Perdizes', 13);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Vila Madalena', 14);
INSERT INTO NEIGHBOURHOOD (NEIGH_NAME, CITY_ID) VALUES ('Jardim das Flores', 15);

---------------------------------------
-- 4) TABELA ADDRESS_MANUFACTURER
---------------------------------------
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Bloco A', 101, 'Rua das Indústrias, 100', 11000001, 1);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Bloco B', 102, 'Rua Alfa, 200', 11000002, 2);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão 1', 103, 'Av. Beta, 300', 11000003, 3);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão 2', 104, 'Rua das Flores, 400', 11000004, 4);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Bloco C', 105, 'Rua Primavera, 500', 11000005, 5);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Prédio 1', 106, 'Av. Brasil, 600', 11000006, 6);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão A', 107, 'Rua Central, 700', 11000007, 7);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão B', 108, 'Rua Sul, 800', 11000008, 8);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão C', 109, 'Rua Norte, 900', 11000009, 9);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Prédio 2', 110, 'Rua Oeste, 1000', 11000010, 10);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Prédio 3', 111, 'Rua Leste, 1100', 11000011, 11);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão Central', 112, 'Rua Centro, 1200', 11000012, 12);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Bloco D', 113, 'Av. Paulista, 1300', 11000013, 13);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Bloco E', 114, 'Rua Aroeira, 1400', 11000014, 14);
INSERT INTO ADDRESS_MANUFACTURER (COMPLEMENT, NUMBER_MANU, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Bloco F', 115, 'Av. das Palmeiras, 1500', 11000015, 15);

---------------------------------------
-- 5) ADDRESS_STOCK
---------------------------------------
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão A', 201, 'Av. Central, 10', 22000001, 1);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão B', 202, 'Av. Beta, 20', 22000002, 2);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Galpão C', 203, 'Av. Industrial, 30', 22000003, 3);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 1', 204, 'Rua Comercial, 40', 22000004, 4);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 2', 205, 'Rua Alfa, 50', 22000005, 5);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 3', 206, 'Av. Brasil, 60', 22000006, 6);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 4', 207, 'Rua Verde, 70', 22000007, 7);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 5', 208, 'Rua Amarela, 80', 22000008, 8);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 6', 209, 'Av. Cinza, 90', 22000009, 9);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 7', 210, 'Av. Roxa, 100', 22000010, 10);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 8', 211, 'Av. Azul, 110', 22000011, 11);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 9', 212, 'Av. Rosa, 120', 22000012, 12);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 10', 213, 'Rua Laranja, 130', 22000013, 13);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 11', 214, 'Av. Verde, 140', 22000014, 14);
INSERT INTO ADDRESS_STOCK (COMPLEMENT, NUMBER_STOCK, ADDRESS_DESCRIPTION, CEP, NEIGH_ID) VALUES ('Depósito 12', 215, 'Av. Prata, 150', 22000015, 15);

---------------------------------------
-- 6) TABELA LOCATION_STOCK
---------------------------------------
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Depósito Central', 'Armazém principal', 1);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia 1', 'Farmácia interna do hospital', 2);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia 2', 'Farmácia da ala leste', 3);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia 3', 'Farmácia pediátrica', 4);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Almoxarifado 1', 'Setor de materiais', 5);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Almoxarifado 2', 'Depósito de descartáveis', 6);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia Oncológica', 'Setor de quimioterápicos', 7);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia Cirúrgica', 'Armazenamento de anestésicos', 8);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia Geral', 'Estoque de uso geral', 9);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia de Plantão', 'Atendimento 24h', 10);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia Ambulatorial', 'Dispensação externa', 11);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia Interna', 'Uso exclusivo hospitalar', 12);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia COVID', 'Setor emergencial', 13);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia Especial', 'Medicamentos de alto custo', 14);
INSERT INTO LOCATION_STOCK (NAME_LOCATION, LOCATION_DESCRIPTION, ADDRESS_ID_STOCK) VALUES ('Farmácia Regional', 'Abastecimento regional', 15);

---------------------------------------
-- 7) TABELA CONTACT_USER
---------------------------------------
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('maria.silva@hospmed.com', 11999990001);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('joao.pereira@hospmed.com', 11999990002);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('ana.costa@hospmed.com', 11999990003);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('lucas.santos@hospmed.com', 11999990004);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('fernanda.almeida@hospmed.com', 11999990005);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('ricardo.melo@hospmed.com', 11999990006);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('julia.rocha@hospmed.com', 11999990007);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('gabriel.oliveira@hospmed.com', 11999990008);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('carla.mendes@hospmed.com', 11999990009);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('rodrigo.souza@hospmed.com', 11999990010);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('amanda.freitas@hospmed.com', 11999990011);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('felipe.lima@hospmed.com', 11999990012);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('isabela.pires@hospmed.com', 11999990013);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('thiago.ferreira@hospmed.com', 11999990014);
INSERT INTO CONTACT_USER (EMAIL_USER, PHONE_NUMBER_USER) VALUES ('patricia.gomes@hospmed.com', 11999990015);

---------------------------------------
-- 8) POSITION_USER
---------------------------------------
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Farmacêutico Responsável');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Técnico de Farmácia');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Auxiliar de Farmácia');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Enfermeiro');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Médico Clínico');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Administrador');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Gerente de Estoque');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Diretor Hospitalar');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Supervisor Noturno');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Atendente');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Analista de Compras');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Recepcionista');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Coordenador Geral');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Zelador');
INSERT INTO POSITION_USER (USER_POSITION) VALUES ('Técnico de Enfermagem');

---------------------------------------
-- 9) TABELA PROFILE_USER
---------------------------------------
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Administrador');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Farmacêutico');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Técnico');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Médico');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Enfermeiro');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Gestor');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Usuário Padrão');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Supervisor');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Diretor');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Assistente');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Coordenador');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Estagiário');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Analista');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Visitante');
INSERT INTO PROFILE_USER (USER_PROFILE) VALUES ('Sistema');

---------------------------------------
-- 10) TABELA USERS_SYS
---------------------------------------
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Maria Silva', 'maria.s', '12345', 1, 2, 1);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('João Pereira', 'joao.p', '12345', 2, 3, 2);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Ana Costa', 'ana.c', '12345', 3, 4, 3);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Lucas Santos', 'lucas.s', '12345', 4, 5, 4);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Fernanda Almeida', 'fernanda.a', '12345', 5, 6, 5);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Ricardo Melo', 'ricardo.m', '12345', 6, 1, 6);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Júlia Rocha', 'julia.r', '12345', 7, 2, 7);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Gabriel Oliveira', 'gabriel.o', '12345', 8, 3, 8);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Carla Mendes', 'carla.m', '12345', 9, 4, 9);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Rodrigo Souza', 'rodrigo.s', '12345', 10, 5, 10);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Amanda Freitas', 'amanda.f', '12345', 11, 6, 11);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Felipe Lima', 'felipe.l', '12345', 12, 7, 12);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Isabela Pires', 'isabela.p', '12345', 13, 8, 13);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Thiago Ferreira', 'thiago.f', '12345', 14, 9, 14);
INSERT INTO USERS_SYS (NAME_USER, LOGIN, PASSWORD_USER, POS_USER_ID, PROF_USER_ID, CONTACT_USER_ID) VALUES ('Patrícia Gomes', 'patricia.g', '12345', 15, 10, 15);

---------------------------------------
-- 11) TABELA CONTACT_MANUFACTURER
---------------------------------------
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato1@manu.com', 113300001);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato2@manu.com', 113300002);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato3@manu.com', 113300003);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato4@manu.com', 113300004);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato5@manu.com', 113300005);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato6@manu.com', 113300006);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato7@manu.com', 113300007);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato8@manu.com', 113300008);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato9@manu.com', 113300009);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato10@manu.com', 113300010);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato11@manu.com', 113300011);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato12@manu.com', 113300012);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato13@manu.com', 113300013);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato14@manu.com', 113300014);
INSERT INTO CONTACT_MANUFACTURER (EMAIL_MANU, PHONE_NUMBER_MANU) VALUES ('contato15@manu.com', 113300015);

---------------------------------------
-- 12) MANUFACTURER
---------------------------------------
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 1', 11111111000001, 1, 1);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 2', 11111111000002, 2, 2);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 3', 11111111000003, 3, 3);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 4', 11111111000004, 4, 4);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 5', 11111111000005, 5, 5);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 6', 11111111000006, 6, 6);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 7', 11111111000007, 7, 7);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 8', 11111111000008, 8, 8);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 9', 11111111000009, 9, 9);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 10', 11111111000010, 10, 10);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 11', 11111111000011, 11, 11);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 12', 11111111000012, 12, 12);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 13', 11111111000013, 13, 13);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 14', 11111111000014, 14, 14);
INSERT INTO MANUFACTURER (NAME_MANU, CNPJ, ADDRESS_ID_MANUFACTURER, CONTACT_MANU_ID) VALUES ('Fabricante 15', 11111111000015, 15, 15);

---------------------------------------
-- 13) TABELA ACTIVE_INGREDIENT
---------------------------------------
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Dipirona');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Paracetamol');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Ibuprofeno');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Amoxicilina');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Azitromicina');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Omeprazol');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Losartana');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Hidroclorotiazida');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Metformina');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Glibenclamida');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Clopidogrel');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Atorvastatina');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Cetirizina');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Prednisona');
INSERT INTO ACTIVE_INGREDIENT (ACT_INGREDIENT) VALUES ('Ranitidina');

---------------------------------------
-- 14) TABELA PHARMACEUTICAL_FORM
---------------------------------------
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Comprimido');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Cápsula');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Solução Oral');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Suspensão');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Xarope');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Gotas');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Injetável');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Pomada');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Creme');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Gel');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Aerosol');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Spray');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Pó Liófilo');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Supositório');
INSERT INTO PHARMACEUTICAL_FORM (PHARMA_FORM) VALUES ('Adesivo Transdérmico');

---------------------------------------
-- 15) TABELA UNIT_MEASURE
---------------------------------------
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('mg');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('g');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('mcg');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('mL');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('UI');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('%');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('mg/mL');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('g/L');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('mmol');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('mEq');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('L');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('cm³');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('dL');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('UI/mL');
INSERT INTO UNIT_MEASURE (UNIT_MEASURE_MEDICINE) VALUES ('mg/dL');

---------------------------------------
-- 16) TABELA CATEGORY_MEDICINE
---------------------------------------
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Analgésico');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Antitérmico');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Anti-inflamatório');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Antibiótico');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Anti-histamínico');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Antiácido');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Anti-hipertensivo');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Diurético');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Antidiabético');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Anticoagulante');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Hipolipemiante');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Corticosteroide');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Antialérgico');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Antiulceroso');
INSERT INTO CATEGORY_MEDICINE (CATEGORY) VALUES ('Antiemético');

---------------------------------------
-- 17) TABELA MEDICINES
---------------------------------------
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Dipirona 500 mg', 'Ativo', 1, 1, 1, 1);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Paracetamol 750 mg', 'Ativo', 2, 1, 1, 2);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Ibuprofeno 400 mg', 'Ativo', 3, 1, 1, 3);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Amoxicilina 500 mg', 'Ativo', 4, 1, 1, 4);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Azitromicina 500 mg', 'Ativo', 4, 1, 1, 5);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Omeprazol 20 mg', 'Ativo', 6, 1, 1, 6);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Losartana 50 mg', 'Ativo', 7, 1, 1, 7);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Hidroclorotiazida 25 mg', 'Ativo', 8, 1, 1, 8);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Metformina 850 mg', 'Ativo', 9, 1, 1, 9);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Glibenclamida 5 mg', 'Ativo', 9, 1, 1, 10);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Clopidogrel 75 mg', 'Ativo', 10, 1, 1, 11);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Atorvastatina 20 mg', 'Ativo', 11, 1, 1, 12);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Cetirizina 10 mg', 'Ativo', 13, 1, 1, 13);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Prednisona 20 mg', 'Ativo', 12, 1, 1, 14);
INSERT INTO MEDICINES (NAME_MEDICATION, STATUS_MED, CATEGORY_MED_ID, UNIT_MEA_ID, PHARM_FORM_ID, ACT_INGRE_ID) VALUES ('Ranitidina 150 mg', 'Ativo', 14, 1, 1, 15);

---------------------------------------
-- 18) TABELA BATCH_MEDICINE
---------------------------------------
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0001', 500, DATE '2024-01-10', DATE '2026-01-10', 1);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0002', 450, DATE '2024-02-15', DATE '2026-02-15', 2);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0003', 600, DATE '2024-03-20', DATE '2026-03-20', 3);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0004', 700, DATE '2024-04-05', DATE '2026-04-05', 4);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0005', 550, DATE '2024-05-12', DATE '2026-05-12', 5);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0006', 800, DATE '2024-06-18', DATE '2026-06-18', 6);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0007', 650, DATE '2024-07-25', DATE '2026-07-25', 7);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0008', 400, DATE '2024-08-09', DATE '2026-08-09', 8);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0009', 750, DATE '2024-09-14', DATE '2026-09-14', 9);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0010', 900, DATE '2024-10-01', DATE '2026-10-01', 10);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0011', 300, DATE '2024-10-15', DATE '2026-10-15', 11);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0012', 350, DATE '2024-11-05', DATE '2026-11-05', 12);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0013', 420, DATE '2024-11-20', DATE '2026-11-20', 13);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0014', 380, DATE '2024-12-01', DATE '2026-12-01', 14);
INSERT INTO BATCH_MEDICINE (BATCH_NUMBER, CURRENT_QUANTITY, MANUFACTURING_DATE, EXPIRATION_DATE, MANUFAC_ID) VALUES ('BM-0015', 1000, DATE '2024-12-20', DATE '2027-12-20', 15);

---------------------------------------
-- 19) TABELA STOCK
---------------------------------------
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (120, 1, 1, 1);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (80, 2, 2, 2);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (60, 3, 3, 3);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (200, 4, 4, 4);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (90, 5, 5, 5);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (150, 6, 6, 6);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (130, 7, 7, 7);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (75, 8, 8, 8);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (95, 9, 9, 9);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (110, 10, 10, 10);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (50, 11, 11, 11);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (65, 12, 12, 12);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (40, 13, 13, 13);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (70, 14, 14, 14);
INSERT INTO STOCK (QUANTITY, BATCH_ID_MEDICINE, MEDICINE_ID, LOCATION_ID_STOCK) VALUES (300, 15, 15, 15);

---------------------------------------
-- 20) TABELA MOVEMENT_TYPE
---------------------------------------
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Entrada');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Saída');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Transferência');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Ajuste');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Devolução');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Perda');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Roubo');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Troca');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Doação');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Distribuição');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Empréstimo');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Baixa');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Recolhimento');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Reposição');
INSERT INTO MOVEMENT_TYPE (TYPE_NAME) VALUES ('Teste');


---------------------------------------
-- 21) TABELA MEDICINE DISPENSE
---------------------------------------
INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-05', 11, 'Emergência', 'Dispensação regular', 1, 1, 1);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-06', 12, 'UTI Adulto', 'Saída para UTI', 2, 2, 2);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-07', 9, 'Clínica Médica', 'Transferência interna', 3, 3, 3);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-08', 15, 'Centro Cirúrgico', 'Ajuste de estoque', 4, 4, 4);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-09', 8, 'Clínica Pediátrica', 'Devolução parcial', 5, 5, 5);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-10', 7, 'Ambulatório', 'Perda por avaria', 6, 6, 6);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-11', 5, 'Farmácia Externa', 'Ocorrência de roubo', 7, 7, 7);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-12', 18, 'Oncologia', 'Troca de lote', 8, 8, 8);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-13', 20, 'Maternidade', 'Doação a paciente', 9, 9, 9);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-14', 22, 'Farmácia 24h', 'Distribuição interna', 10, 10, 10);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-15', 6, 'Clínica Geral', 'Empréstimo', 11, 11, 11);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-16', 13, 'Pronto Atendimento', 'Baixa por validade', 12, 12, 12);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-17', 17, 'Enfermaria', 'Recolhimento de produto', 13, 13, 13);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-18', 14, 'UTI Neonatal', 'Reposição programada', 14, 14, 14);

INSERT INTO MEDICINE_DISPENSE (DATE_DISPENSATION, QUANTITY_DISPENSED, DESTINATION, OBSERVATION, USER_ID, MOVEMENT_TYPE_ID, STOCK_ID)
VALUES (DATE '2025-01-19', 10, 'Hemodiálise', 'Teste de processo', 15, 15, 15);

COMMIT;



---------------------------------------
-- BLOCOS ANÔNIMOS COM CONSULTAS
---------------------------------------
set serveroutput on;

--------------------------------------------------------------------------
-- INNER JOIN: MEDICINES × CATEGORY_MEDICINE
-- Objetivo: listar quantos medicamentos existem em cada categoria.
--------------------------------------------------------------------------
DECLARE
  CURSOR c_cat IS
    SELECT
      c.CATEGORY                          AS categoria,
      COUNT(m.MEDICINE_ID)                AS total_medicamentos
    FROM CATEGORY_MEDICINE c
    INNER JOIN MEDICINES m
      ON m.CATEGORY_MED_ID = c.CATEGORY_MED_ID
    GROUP BY c.CATEGORY
    ORDER BY total_medicamentos DESC, c.CATEGORY;
BEGIN
  DBMS_OUTPUT.PUT_LINE('== MEDICAMENTOS POR CATEGORIA ==');
  FOR r IN c_cat LOOP
    DBMS_OUTPUT.PUT_LINE(
      RPAD(r.categoria, 30) || '  ->  ' || LPAD(r.total_medicamentos, 4)
    );
  END LOOP;
END;
/



--------------------------------------------------------------------------
-- LEFT JOIN: LOCATION_STOCK × STOCK
-- Objetivo: somar o estoque por local, exibindo também locais sem itens.
--------------------------------------------------------------------------

DECLARE
  CURSOR c_loc IS
    SELECT
      ls.LOCATION_ID_STOCK,
      ls.NAME_LOCATION,
      NVL(SUM(s.QUANTITY), 0)            AS total_estoque,
      COUNT(DISTINCT s.MEDICINE_ID)      AS qtd_itens_distintos
    FROM LOCATION_STOCK ls
    LEFT JOIN STOCK s
      ON s.LOCATION_ID_STOCK = ls.LOCATION_ID_STOCK
    GROUP BY ls.LOCATION_ID_STOCK, ls.NAME_LOCATION
    ORDER BY total_estoque DESC, ls.NAME_LOCATION;
BEGIN
  DBMS_OUTPUT.PUT_LINE('== TOTAL DE ESTOQUE POR LOCAL (inclui vazios) ==');
  FOR r IN c_loc LOOP
    DBMS_OUTPUT.PUT_LINE(
      'LocID='||LPAD(r.LOCATION_ID_STOCK,3)||'  '||
      RPAD(r.NAME_LOCATION, 28) || '  | Itens=' ||
      LPAD(r.qtd_itens_distintos,3) || '  | Qtde=' ||
      LPAD(r.total_estoque,6)
    );
  END LOOP;
END;
/


----------------------------------------------------------------------------------------------------------------------------------------------------
-- RIGHT JOIN: LOCATION_STOCK → ADDRESS_STOCK (lista todos os endereços)
-- Objetivo: contar endereços de estoque por cidade e quantos locais existem por cidade, listando todos os endereços mesmo sem local vinculado.
----------------------------------------------------------------------------------------------------------------------------------------------------
DECLARE
  CURSOR c_city IS
    SELECT
      ci.NAME_CITY                         AS cidade,
      COUNT(DISTINCT ast.ADDRESS_ID_STOCK) AS qtd_enderecos,
      COUNT(DISTINCT ls.LOCATION_ID_STOCK) AS qtd_locais
    FROM LOCATION_STOCK ls
    RIGHT JOIN ADDRESS_STOCK ast
      ON ast.ADDRESS_ID_STOCK = ls.ADDRESS_ID_STOCK   
    INNER JOIN NEIGHBOURHOOD nb
      ON nb.NEIGH_ID = ast.NEIGH_ID
    INNER JOIN CITY ci
      ON ci.CITY_ID = nb.CITY_ID
    GROUP BY ci.NAME_CITY
    ORDER BY qtd_enderecos DESC, ci.NAME_CITY;
BEGIN
  DBMS_OUTPUT.PUT_LINE('== ENDEREÇOS DE ESTOQUE POR CIDADE (com/sem local)==');
  FOR r IN c_city LOOP
    DBMS_OUTPUT.PUT_LINE(
      RPAD(r.cidade, 28) || ' | enderecos=' ||
      LPAD(r.qtd_enderecos,3) || ' | locais=' ||
      LPAD(r.qtd_locais,3)
    );
  END LOOP;
END;
/

-------------------------------------------------------------------
-- ESTRUTURA DE DECISÃO E OPERAÇÕES DML EM BLOCOS ANÔNIMOS
-------------------------------------------------------------------

----------------------------------------------------------------------------
-- Objetivo: atualizar a quantidade de um item específico no estoque
----------------------------------------------------------------------------

DECLARE
  v_location_id_stock   STOCK.LOCATION_ID_STOCK%TYPE := 3;
  v_medicine_id         STOCK.MEDICINE_ID%TYPE        := 3;
  v_batch_id_medicine   STOCK.BATCH_ID_MEDICINE%TYPE  := 3;
  v_delta               NUMBER := 25; 
  v_stock_id            STOCK.STOCK_ID%TYPE;
  v_old_qty             STOCK.QUANTITY%TYPE;
  v_new_qty             STOCK.QUANTITY%TYPE;
BEGIN
  BEGIN
    SELECT STOCK_ID, QUANTITY
      INTO v_stock_id, v_old_qty
      FROM STOCK
     WHERE LOCATION_ID_STOCK = v_location_id_stock
       AND MEDICINE_ID       = v_medicine_id
       AND BATCH_ID_MEDICINE = v_batch_id_medicine;

    UPDATE STOCK
       SET QUANTITY = QUANTITY + v_delta
     WHERE STOCK_ID = v_stock_id;

    SELECT QUANTITY
      INTO v_new_qty
      FROM STOCK
     WHERE STOCK_ID = v_stock_id;

    DBMS_OUTPUT.PUT_LINE('OK: STOCK_ID='||v_stock_id||
                         ' | QTD de '||v_old_qty||' para '||v_new_qty||
                         ' (delta='||v_delta||')');


  EXCEPTION
    WHEN NO_DATA_FOUND THEN
      DBMS_OUTPUT.PUT_LINE('ATENÇÃO: Não existe estoque para '
        ||'Location='||v_location_id_stock
        ||', Medicine='||v_medicine_id
        ||', Batch='||v_batch_id_medicine||'. Nada foi atualizado.');
  END;
END;
/

----------------------------------------------------------------------------------------------------------------------------
-- Objetivo: remover dispensações antigas/pequenas para um destino específico, com critérios controlados por variáveis.
----------------------------------------------------------------------------------------------------------------------------

DECLARE
  v_cutoff_date   DATE := DATE '2025-01-12';  
  v_destination   MEDICINE_DISPENSE.DESTINATION%TYPE := 'Ambulatório';
  v_max_qty       NUMBER := 10;                
  v_to_delete_cnt NUMBER;
BEGIN
  SELECT COUNT(*)
    INTO v_to_delete_cnt
    FROM MEDICINE_DISPENSE
   WHERE DATE_DISPENSATION < v_cutoff_date
     AND DESTINATION       = v_destination
     AND QUANTITY_DISPENSED <= v_max_qty;

  IF v_to_delete_cnt > 0 THEN
    DELETE FROM MEDICINE_DISPENSE
     WHERE DATE_DISPENSATION < v_cutoff_date
       AND DESTINATION       = v_destination
       AND QUANTITY_DISPENSED <= v_max_qty;

    DBMS_OUTPUT.PUT_LINE('DELETE OK: '||SQL%ROWCOUNT||' linha(s) removida(s) '
      ||'para destino="'||v_destination||'", antes de '||TO_CHAR(v_cutoff_date,'YYYY-MM-DD')
      ||', qtd_disp <='||v_max_qty||'.');

 
  ELSE
    DBMS_OUTPUT.PUT_LINE('Nenhuma linha elegível para DELETE '
      ||'para destino="'||v_destination||'", antes de '||TO_CHAR(v_cutoff_date,'YYYY-MM-DD')
      ||', qtd_disp <='||v_max_qty||'.');
  END IF;
END;
/

